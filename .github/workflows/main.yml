name: learn-github-actions
on:
    push:
      branches: [ main, dev ]
    pull_request:
      branches: [ main ]
      paths:
        - "**.js"
      paths-ignore: 
        - "doc/**"
jobs:
  build:
    strategy: # ì—¬ëŸ¬ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸/ë°°í¬ë¥¼ ìœ„í•´ì„œ ë¹ŒíŠ¸ matrixë¥¼ êµ¬ì„±í•œë‹¤. í˜„ì¬ ë‹¤ì–‘í•œ node ë²„ì „ì—ì„œ ê°™ì€ jobì„ ì‹¤í–‰í•  ìˆ˜ë„ìˆë‹¤
      matrix:
        node-version: [10.x, 12.x]

    runs-on: ubuntu-latest # í•´ë‹¹ jobì„ ì–´ë–¤ OSì—ì„œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ëª…ì‹œ
    steps: # jobì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë™ì‘ì˜ ë‚˜ì—´. ê°ê°ì˜ stepì€ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì§„ë‹¤.
      - name: Checkout source code # stepì˜ ì´ë¦„
        uses: actions/checkout@v2 # í•´ë‹¹ strpì—ì„œ ì‚¬ìš©í•  ì•¡ì…˜. Github ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ì˜¬ë¼ì˜¨ actionë“¤ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤  {owner}/{repo}@{ref|version} ì˜ í˜•íƒœë¥¼ ì§€ë‹Œë‹¤.
        
      - name: My First Step
        run:
          npm install
          npm test
          npm build
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v2
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ğŸ This job's status is ${{ job.status }}."

      - name: Cache yarn dependencies
        uses: actions/cache@v1
        id: yarn-cache
        with: # í•´ë‹¹ actionì— ì˜í•´ ì •ì˜ë˜ëŠ” input íŒŒë¼ë¯¸í„°. key/value í˜ì–´ë¡œ ë˜ì–´ ìˆë‹¤. input íŒŒë¼ë¯¸í„°ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •ë˜ê³ , 'INPUT_' ì´ë¼ëŠ” prefixê°€ ë¶™ëŠ”ë‹¤
          path: node_modules
          key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
          restore-keys: |
            ${{ runner.os }}-yarn-
